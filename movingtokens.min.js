const NUMBER_DUPLICATION=5,TOKEN_CLASS="category-token",TOKEN_WRAPPER_ELT=document.querySelector(".cc-tokens-wrapper"),Y_FORCE=1,BOUNCINESS=.9,X_FORCE_RANDOMNESS=.5;var render,Engine=Matter.Engine,Render=Matter.Render,World=Matter.World,Bodies=Matter.Bodies,Mouse=Matter.Mouse,MouseConstraint=Matter.MouseConstraint,engine=Engine.create();const initialTokens=document.querySelectorAll("."+TOKEN_CLASS);function duplicateTokens(){initialTokens.forEach(e=>{e.style.display="block"}),initialTokens.forEach(e=>{let n=e.parentNode;for(let t=0;t<5;t++){let r=e.cloneNode(!0);n.appendChild(r)}})}function initializeMatter(){ALL_GENERATED_TOKENS.forEach(e=>{e.style.display="block"}),render&&(Render.stop(render),World.clear(engine.world),Engine.clear(engine),render.canvas.remove(),render.canvas=null,render.context=null,render.textures={});var e=TOKEN_WRAPPER_ELT,n=e.getBoundingClientRect();render=Render.create({element:e,engine:engine,options:{width:n.width,height:n.height,wireframes:!1,background:"transparent"}});var t=e.querySelectorAll("."+TOKEN_CLASS),r=[];t.forEach(function(e){var t=e.getBoundingClientRect(),i=t.left-n.left+t.width/2,o=n.top+t.height,l=window.getComputedStyle(e).backgroundColor,d=window.getComputedStyle(e).backgroundImage,a="";"none"!==d&&(a=d.slice(5,-2).replace(/['"]/g,""));var s=window.getComputedStyle(e).borderColor,c=parseFloat(window.getComputedStyle(e).borderWidth),u=Bodies.circle(i,o,t.width/2,{restitution:.9,render:{fillStyle:l,strokeStyle:s,lineWidth:c,sprite:{texture:a,xScale:1,yScale:1}}});u.backgroundColor=l,r.push(u)}),t.forEach(function(e){e.style.display="none"}),World.add(engine.world,r);var i=[Bodies.rectangle(n.width/2,-25,n.width,50,{isStatic:!0}),Bodies.rectangle(n.width/2,n.height+25,n.width,50,{isStatic:!0}),Bodies.rectangle(-25,n.height/2,50,n.height,{isStatic:!0}),Bodies.rectangle(n.width+25,n.height/2,50,n.height,{isStatic:!0})];World.add(engine.world,i),Render.run(render),Engine.run(engine);var o=Mouse.create(render.canvas),l=MouseConstraint.create(engine,{mouse:o,constraint:{stiffness:.2,render:{visible:!1}}});World.add(engine.world,l);var d=null;Matter.Events.on(l,"mousemove",function(e){var n=Matter.Query.point(r,e.mouse.position);if(n.length>0){var t=n[0];t!==d&&(d=t,Matter.Body.applyForce(t,t.position,{x:(Math.random()-.5)*.5,y:1}))}else d=null}),ALL_GENERATED_TOKENS.forEach(e=>{e.style.display="none"})}duplicateTokens();const ALL_GENERATED_TOKENS=document.querySelectorAll("."+TOKEN_CLASS);function debounce(e,n){let t;return function(...r){clearTimeout(t),t=setTimeout(()=>e.apply(this,r),n)}}initializeMatter(),window.addEventListener("resize",debounce(initializeMatter,200));
